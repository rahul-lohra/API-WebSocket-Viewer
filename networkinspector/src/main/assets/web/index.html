<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>WebSocket Inspector</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        #logs { border: 1px solid #ddd; padding: 10px; margin-top: 10px; }
        .log { margin: 5px 0; padding: 5px; background: #f5f5f5; }
        #status { padding: 5px; color: white; background: red; display: inline-block; }
    </style>
</head>
<body>
    <h2>Android WebSocket Inspector</h2>
    <button id="connectBtn">Connect</button>
    <span id="status">Disconnected</span>
    <div id="logs"></div>

    <script>
        // 1. Simple connection manager
        const wsManager = {
            ws: null,
            connect() {
                const ip = prompt("Enter Android device IP:", "192.168.1.12");
                this.ws = new WebSocket(`ws://${ip}:9394/logs`);
                
                this.ws.onopen = () => {
                    document.getElementById('status').textContent = "Connected";
                    document.getElementById('status').style.background = "green";
                    this.addLog("✅ Connected to Android device");
                };
                
                this.ws.onmessage = (event) => {
                    this.addLog(event.data);
                };
                
                this.ws.onerror = (error) => {
                    this.addLog(`❌ Error: ${error.message}`);
                };
            },
            
            addLog(message) {
                const logElement = document.createElement('div');
                logElement.className = 'log';
                logElement.textContent = message;
                document.getElementById('logs').appendChild(logElement);
            }
        };

        // 2. Just connect when button is clicked
        document.getElementById('connectBtn').addEventListener('click', () => {
            wsManager.connect();
        });
    </script>
</body>
</html>